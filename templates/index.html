<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ORIENTAL LOUNGE</title>
  <meta name="theme-color" content="#0b0b0b">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Noto+Sans+JP:wght@400;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    :root {color-scheme: dark}
    html,body{background:#0b0b0b; font-family:'Inter','Noto Sans JP',system-ui,-apple-system,Segoe UI,Roboto,'ヒラギノ角ゴ ProN','メイリオ',Arial,sans-serif}
    .card{background:#111318;border:1px solid #1f2430;box-shadow:0 12px 30px rgba(0,0,0,.45)}
    .chip{border:1px solid rgba(255,255,255,.12)}
    .lift{transition:transform .18s ease, box-shadow .18s ease}
    .lift:hover{transform:translateY(-2px); box-shadow:0 14px 34px rgba(0,0,0,.55)}
  </style>
</head>
<body class="text-zinc-100">

  <!-- Header -->
  <header class="sticky top-0 z-50 border-b border-zinc-800 bg-black/70 backdrop-blur">
    <div class="mx-auto max-w-7xl px-4 py-3 flex items-center gap-3">
      <div class="h-8 w-8 rounded bg-zinc-900 grid place-items-center ring-1 ring-zinc-800">
        <div class="flex gap-0.5"><span class="block w-0.5 h-5 bg-zinc-300"></span><span class="block w-0.5 h-6 bg-zinc-300"></span><span class="block w-0.5 h-4 bg-zinc-300"></span></div>
      </div>
      <div class="text-lg sm:text-xl font-extrabold tracking-wide">ORIENTAL LOUNGE（長崎）</div>
      <div class="ml-auto flex items-center gap-2 text-sm">
        <div id="clock" class="rounded chip px-2 py-1 text-zinc-300">--:-- 更新</div>
        <button id="btn-reload" class="rounded chip px-2 py-1 hover:bg-zinc-800">再読込</button>
      </div>
    </div>
  </header>

  <!-- Hero Section -->
  <section class="mx-auto max-w-7xl px-4 py-6 grid grid-cols-1 lg:grid-cols-3 gap-6">
    <div class="col-span-2 card rounded-2xl overflow-hidden relative">
      <img src="https://picsum.photos/id/1015/1200/400" class="w-full h-56 object-cover opacity-90" />
      <div class="absolute bottom-3 left-4 text-white">
        <div class="text-lg font-bold">長崎</div>
        <div class="text-xs text-zinc-300">現在の来客者数</div>
      </div>
      <div class="absolute bottom-3 right-4 flex gap-3">
        <div class="flex items-center gap-1 text-sm bg-black/50 px-3 py-1 rounded-full"><span>♂</span><span id="hero-men">0</span></div>
        <div class="flex items-center gap-1 text-sm bg-black/50 px-3 py-1 rounded-full"><span>♀</span><span id="hero-women">0</span></div>
      </div>
    </div>
    <div class="card rounded-2xl p-4">
      <h3 class="text-sm text-zinc-300">ハイライト</h3>
      <div class="mt-2 text-xs text-zinc-400">女性/男性比</div>
      <div class="w-full bg-zinc-800 h-2 rounded-full mt-1">
        <div id="ratio-bar" class="h-2 bg-cyan-400 rounded-full" style="width:50%"></div>
      </div>
      <div id="ratio-text" class="mt-1 text-sm">-</div>
      <div class="mt-4 text-xs text-zinc-400">今日のピーク（予想）</div>
      <div class="mt-1 text-xl font-bold">21:00</div>
    </div>
  </section>

  <!-- KPI Row -->
  <section class="mx-auto max-w-7xl px-4 grid grid-cols-2 md:grid-cols-4 gap-3">
    <div class="card rounded-2xl p-4 lift"><div class="text-xs text-zinc-400">現在 男</div><div id="k-men" class="mt-1 text-2xl font-extrabold">0</div></div>
    <div class="card rounded-2xl p-4 lift"><div class="text-xs text-zinc-400">現在 女</div><div id="k-women" class="mt-1 text-2xl font-extrabold">0</div></div>
    <div class="card rounded-2xl p-4 lift"><div class="text-xs text-zinc-400">現在 合計</div><div id="k-total" class="mt-1 text-2xl font-extrabold">0</div></div>
    <div class="card rounded-2xl p-4 lift"><div class="text-xs text-zinc-400">本日 取得件数</div><div id="k-hits" class="mt-1 text-2xl font-extrabold">0</div></div>
  </section>

  <!-- Graphs -->
  <section class="mx-auto max-w-7xl px-4 py-6 grid grid-cols-1 lg:grid-cols-2 gap-6">
    <div class="card rounded-2xl p-4 lift">
      <h3 class="text-sm text-zinc-300 mb-2">本日の推移（10分刻み：合計 / 男性 / 女性）</h3>
      <canvas id="chart" height="220"></canvas>
    </div>
    <div class="card rounded-2xl p-4 lift">
      <h3 class="text-sm text-zinc-300 mb-2">本日の予想（モック）</h3>
      <canvas id="forecast" height="220"></canvas>
    </div>
  </section>

  <!-- 全国店舗一覧（モック） -->
  <section class="mx-auto max-w-7xl px-4 pb-16">
    <h3 class="text-sm text-zinc-300 mb-3">全国店舗一覧（モック）</h3>
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4">
      <div class="card rounded-xl overflow-hidden relative bg-gradient-to-r from-indigo-500 to-purple-500 p-4">
        <div class="text-sm font-bold">梅田</div>
        <div class="text-xs text-zinc-300">Osaka</div>
        <div class="mt-3 flex gap-3">
          <span>♂ 18</span><span>♀ 20</span><span>合計 38</span>
        </div>
      </div>
      <div class="card rounded-xl overflow-hidden relative bg-gradient-to-r from-cyan-500 to-blue-500 p-4">
        <div class="text-sm font-bold">渋谷</div>
        <div class="text-xs text-zinc-300">Tokyo</div>
        <div class="mt-3 flex gap-3">
          <span>♂ 21</span><span>♀ 24</span><span>合計 45</span>
        </div>
      </div>
      <div class="card rounded-xl overflow-hidden relative bg-gradient-to-r from-pink-500 to-orange-500 p-4">
        <div class="text-sm font-bold">名古屋</div>
        <div class="text-xs text-zinc-300">Aichi</div>
        <div class="mt-3 flex gap-3">
          <span>♂ 12</span><span>♀ 14</span><span>合計 26</span>
        </div>
      </div>
    </div>
  </section>

  <script>
    // 時計
    const clockEl = document.getElementById('clock');
    function updateClock(){
      const d = new Date();
      const p = n => String(n).padStart(2,'0');
      clockEl.textContent = `${p(d.getHours())}:${p(d.getMinutes())} 更新`;
    }
    updateClock(); setInterval(updateClock, 15000);

    // チャート
    const ctx = document.getElementById('chart').getContext('2d');
    const chart = new Chart(ctx,{type:'line',data:{labels:[],datasets:[
      {label:'合計',data:[],borderColor:'#60a5fa',fill:true,backgroundColor:'rgba(96,165,250,.25)'},
      {label:'男性',data:[],borderColor:'#38bdf8',fill:false},
      {label:'女性',data:[],borderColor:'#f59e0b',fill:false}
    ]},options:{scales:{x:{ticks:{color:'#aaa'}},y:{ticks:{color:'#aaa'}}}}});

    // 予測グラフ（モック）
    const ftx = document.getElementById('forecast').getContext('2d');
    const forecast = new Chart(ftx,{type:'line',data:{labels:['18:00','19:00','20:00','21:00','22:00','23:00'],datasets:[
      {label:'予測人数',data:[5,15,25,30,27,15],borderColor:'#a78bfa',borderDash:[5,5],fill:false},
      {label:'実測',data:[4,12,20,28,25,14],borderColor:'#34d399',fill:false}
    ]},options:{scales:{x:{ticks:{color:'#aaa'}},y:{ticks:{color:'#aaa'}}}}});
  </script>
</body>
</html>
